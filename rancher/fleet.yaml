defaultNamespace: cattle-system
dependsOn:
- selector: # XXX; why does this not work simply by name?
    matchLabels:
      name: cert-manager
# - name: 'install-rancher-cert-manager'
helm:
  repo: https://releases.rancher.com/server-charts/latest
  chart: rancher
  version: 2.13.0
  values:
    replicas: 1
    extraEnv:
      - name: CATTLE_SERVER_URL
        value: https://{{.hostname}}

  valuesFrom:
    - configMapKeyRef:
      name: rancher-cfg
      key: hostname
    - secretKeyRef:
      name: rancher-creds
      key: bootstrapPassword
